// Generated by CoffeeScript 2.0.0-beta7
void function () {
  var findAll, getPaths, Path, utils;
  Path = require('path');
  utils = require('./utils');
  module.exports = function (paths, options) {
    var iterator;
    if (null == options)
      options = {};
    if (utils.isString(paths))
      return getPaths(paths, options);
    iterator = function (accum, path) {
      return accum.concat(getPaths(path, options));
    };
    return paths.reduce(iterator, []);
  };
  getPaths = function (path, options) {
    var excludedPaths, paths;
    paths = findAll(path, options);
    if (excludedPaths = options.exclude)
      paths = utils.rejectPaths(paths, excludedPaths);
    if (options.includeDirectories === false)
      paths = paths.filter(utils.isFileSync);
    return paths;
  };
  findAll = function (path, options) {
    var pattern;
    if (options.absolute === true)
      path = Path.resolve(path);
    if (utils.isFileSync(path)) {
      return [path];
    } else {
      pattern = utils.getGlobPattern(path, options);
      return utils.glob.sync(pattern, options);
    }
  };
}.call(this);
